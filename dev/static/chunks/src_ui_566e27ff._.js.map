{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/FarmUtil.js"],"sourcesContent":["import { grey } from \"@mui/material/colors\";\nimport { parseISO } from \"date-fns\";\nimport { selectShowInventory } from \"../features/app/appSlice\";\nimport { useSelector } from \"react-redux\";\nimport { Tooltip } from \"react-leaflet\";\nimport { Box, Typography } from \"@mui/material\";\nimport { position } from \"stylis\";\nimport { fi } from \"date-fns/locale\";\n\nexport const UI_SIZE = 'medium';\n\nexport const GENERAL = 'GENERAL';\nexport const GENERAL_PLAN = 'GENERAL_PLAN';\nexport const SPRAY = 'SPRAY';\nexport const SPRAY_PLAN = 'SPRAY_PLAN';\nexport const MARKET = 'MARKET';\nexport const HARVEST = 'HARVEST';\nexport const SCOUT = 'SCOUTING';\nexport const IRRIGATION = 'IRRIGATION';\nexport const IRRIGATION_PLAN = 'IRRIGATION_PLAN';\n\nexport const INVENTORY = 'INVENTORY';\nexport const PLANS = 'PLANS';\n\n\nconst GROWER_ACTIVITY_TYPES = [GENERAL, SPRAY, SCOUT, IRRIGATION, HARVEST, MARKET];\n\nconst GROWER_ACTIVITY_TYPES_MAP = [GENERAL, SPRAY, SCOUT, IRRIGATION, HARVEST, MARKET];//.concat(SCOUT)\n\n\nconst GROWER_PLAN_TYPES = [GENERAL_PLAN, SPRAY_PLAN, IRRIGATION_PLAN];\n\nexport const CUSTOMER_TYPES = [HARVEST, MARKET]\n\n\nexport const SPRAY_TYPES = [SPRAY, SPRAY_PLAN]\nexport const IRRIGARION_TYPES = [IRRIGATION, IRRIGATION_PLAN]\nexport const ACTIVITY_DEF_TYPES = [GENERAL, GENERAL_PLAN, HARVEST]\n\nexport const HARVEST_TYPES = [HARVEST]\n\nexport const WORKER = 'WORKER';\nexport const CONTRACTOR = 'CONTRACTOR';\nexport const WORKER_GROUP = 'WORKER_GROUP';\nexport const FERTILIZER = 'FERTILIZER';\nexport const PESTICIDE = 'PESTICIDE';\nexport const ENERGY = 'ENERGY';\nexport const ACCESSORY = 'ACCESSORY';\nexport const VARIETY = 'VARIETY';\nexport const COMPOST = 'COMPOST';\nexport const EQUIPMENT = 'EQUIPMENT';\nexport const DISINFECTANT = 'DISINFECTANT';\nexport const WATER = 'WATER';\n\nexport const SPRAYER = 'SPRAYER';\nexport const LIST_PESTICIDE = 'listPesticide';\n\nexport const WAREHOUSE_RESOURCE_TYPE = [PESTICIDE, FERTILIZER, ACCESSORY, VARIETY]\nexport const QTY_PER_AREA_UNIT_RESOURCE_TYPE = [PESTICIDE, FERTILIZER, ACCESSORY, VARIETY, COMPOST, DISINFECTANT]\nexport const SECONDARY_QTY_RESOURCES = [\n    { type: WATER, label: 'publicSource', lessThanQty: true, gg: true },\n    { type: ENERGY, label: 'renewable', lessThanQty: true, gg: true }]\n\n\nexport const ACTIVITY_RESOURCES = [\n    { activity: GENERAL, types: [WORKER, CONTRACTOR, WORKER_GROUP, EQUIPMENT, PESTICIDE, FERTILIZER, ACCESSORY, VARIETY, COMPOST, DISINFECTANT, ENERGY] },\n    { activity: SPRAY, types: [SPRAYER, LIST_PESTICIDE, WORKER, CONTRACTOR, WORKER_GROUP, EQUIPMENT, FERTILIZER] },\n    { activity: HARVEST, types: [WORKER, CONTRACTOR, WORKER_GROUP, EQUIPMENT, ACCESSORY] },\n    { activity: IRRIGATION, types: [WATER, FERTILIZER, PESTICIDE, WORKER, CONTRACTOR, WORKER_GROUP, ACCESSORY] },\n    { activity: SCOUT, types: [LIST_PESTICIDE] }\n\n]\n\nexport const tableHeaderSx = { fontWeight: 'bold', padding: 0.5 };\nexport const tableCellSx = { padding: 0.5 };\n\n\nexport function getBottomNavigationSx(disabled) {\n    return disabled ? { color: grey[400] } : null;\n}\n\nexport function getActivityTypes(role, isMap, isPlan) {\n    if (isMap) {\n        return GROWER_ACTIVITY_TYPES_MAP\n    } else if (isPlan) {\n        return GROWER_PLAN_TYPES\n    } else {\n        return GROWER_ACTIVITY_TYPES;\n    }\n}\n\nexport const PLAN = 'PLAN';\nexport const EXECUTED = 'EXECUTED';\n\nexport function getActivityStatuses(role, isPlan) {\n    if (isPlan) {\n        return [PLAN, EXECUTED]\n    } else {\n        return [];\n    }\n}\n\nexport const activityDescription = (e, text) => {\n    if (!e) {\n        return '';\n    }\n    return e?.activityDef ? e.activityDef?.name : text[e.type.toLowerCase()];\n}\n\nexport const activityLongText = (e, text) => {\n    if (!e) {\n        return '';\n    }\n    if (e.type === SCOUT) {\n        return e.scoutParams?.scouts?.map(s => s.finding.name).join(\", \")\n    } else {\n        return e.note\n    }\n    //  return 'e'\n    // return e.activityDef ? e.activityDef.name : text[e.type.toLowerCase()];\n}\n\nexport const maxLenghtStr = (str, maxLenght) => {\n    return !isStringEmpty(str) || str.lenght > maxLenght ? str.slice(0, maxLenght) : str\n}\n\nexport const displayFieldName = (field) => {\n    if (field) {\n        return field.alias ? `${field.name}, ${field.alias}` : field.name;\n    } else {\n        return '';\n    }\n}\n\nexport const mapDisplayFieldName = (field, showName, showAlias, showOfficialFieldId) => {\n    var tooltipText = [];\n    if (showName) {\n        tooltipText.push(field.name)\n    }\n    if (showAlias && !isStringEmpty(field.alias)) {\n        tooltipText.push(field.name)\n    }\n    if (showOfficialFieldId && !isStringEmpty(field.baseFieldOfficialId)) {\n        tooltipText.push(field.baseFieldOfficialId)\n    }\n\n    return tooltipText.join(', ')\n    // if (showName && !showAlias) {\n    //     return field.name;\n    // } else if (!showName && showAlias) {\n    //     return field.alias ? field.alias : '';\n    // } else {\n    //     return field.alias ? `${field.name}, ${field.alias}` : field.name;\n    // }\n}\n\nexport const mapTextStyle = {\n    color: 'white',\n    textShadow: '-1px 1px 0 #000,1px 1px 0 #000,1px -1px 0 #000,-1px -1px 0 #000'\n}\n\nexport const MAX_PER_MAP = 600;\n\n\nexport const MapToolTip = ({ textArr, large }) => {\n    const variant = large ? 'h6' : 'subtitle1';\n\n    return <Tooltip\n        className={'empty-tooltip'}\n        direction=\"center\" opacity={0.8} permanent>\n        {textArr.map((e, index) =>\n            <Typography key={index} variant={variant} style={mapTextStyle} >{e}</Typography>\n        )}\n    </Tooltip>\n}\n\nexport const displayFieldArea = (field, areaUnit, text) => {\n    return `${field.area} ${text[areaUnit]}`;\n}\nexport const AREA_UNIT = \"area_unit\";\nexport const HOUR = \"hour\";\n\nexport const getUnitText = (unit, areaUnit, text) => {\n    if (isStringEmpty(unit)) {\n        return '';\n    }\n    const value = unit.toLowerCase();\n    if (value === AREA_UNIT) {\n        return text[areaUnit];\n    }\n    const result = text[value];\n    if (isStringEmpty(result)) {\n        console.log('Translate: ', value)\n        return '';\n    } else return result;\n}\n\nexport const getResourceTypeText = (type, text) => {\n    if (isStringEmpty(type)) {\n        return '';\n    }\n    const value = type.toLowerCase();\n\n    const result = text[value];\n    if (result) {\n        return result;\n    }\n    else {\n        console.log('Translate: ', value)\n        return '';\n    }\n}\n\nexport const getActivityStatusText = (type, text) => {\n    if (isStringEmpty(type)) {\n        return '';\n    }\n    const value = type.toLowerCase();\n\n    const result = text[value];\n    if (result) {\n        return result;\n    }\n    else {\n        console.log('Translate: ', value)\n        return '';\n    }\n}\n\nexport const getResourceUsageUnit = (resource, activityDef) => {\n    if (activityDef && CONTRACTOR === resource.type) {\n        return activityDef.unit;\n    }\n    return resource.usageUnit;\n}\n\nexport const getActivityTypeText = (type, text, long) => {\n    if (SCOUT === type) {\n        return text.scouting;\n    }\n    if (long) {\n        if (IRRIGARION_TYPES.includes(type)) {\n            return `${text[type.toLowerCase()]} ${text.and}${text.fertilization}`\n        }\n    }\n    return [GENERAL].includes(type) ? text.activity : text[type.toLowerCase()];\n\n}\n\n\nexport function isArrayEmpty(filterValue, filterNulls) {\n    if (filterNulls) {\n        return !filterValue || filterValue.filter(e => e !== null).length === 0;\n    } else {\n        return !filterValue || filterValue.length === 0;\n    }\n}\n\nexport function isStringEmpty(str, print) {\n    if (print) {\n        console.log('isStringEmpty', str, print)\n    }\n    return (!str || /^\\s*$/.test(str));\n}\n\n\nexport function toUTCDate(date) {\n    return Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), 0, 0) / 1000;//minutes,seconds,milliseconds\n}\n\nexport function newDate() {\n    var date = new Date();\n    return date;\n}\nexport function startOfDay(date) {\n    date.setUTCHours(0, 0, 0, 0);\n    return date;\n}\n\nexport function endOfDay(date) {\n    date.setUTCHours(23, 59, 59, 999);;\n    return date;\n}\n\n\n\nexport function subtractYear(date, years) {\n    const val = years ? years : 1;\n    const d = new Date(date.getTime());\n    d.setYear(d.getFullYear() - val);\n    return d;\n}\n\nexport function subtractDays(date, days) {\n    return new Date(date - (1000 * 60 * 60 * 24 * days))\n\n}\n\nexport function asShortStringDate(time) {\n    if (time !== null) {\n        return new Date(time).toLocaleDateString('en-GB', { day: \"2-digit\", month: \"2-digit\", year: \"2-digit\" })\n    }\n    return null;\n}\n\nexport function asShortStringDateTime(time) {\n    if (time !== null) {\n        return new Date(time).toLocaleDateString('en-GB', { day: \"2-digit\", month: \"2-digit\", year: \"2-digit\", hour: \"2-digit\", minute: \"2-digit\" })\n    }\n    return null;\n}\n\n\nexport function dateToString(date) {\n    if (date && date instanceof Date && !isNaN(date.valueOf())) {\n        return date.toLocaleDateString('en-GB', { day: \"2-digit\", month: \"2-digit\", year: \"2-digit\" })\n    }\n    return date;\n}\n\nexport function asLocalDate(date, hyphen) {\n    if (date && date instanceof Date) {\n        var yyyy = date.getFullYear().toString();\n        var mm = (date.getMonth() + 1).toString(); // getMonth() is zero-based         \n        var dd = date.getDate().toString();\n        const space = hyphen ? \"-\" : \"\";\n        return yyyy + space + (mm[1] ? mm : \"0\" + mm[0]) + space + (dd[1] ? dd : \"0\" + dd[0]);\n    } else {\n        return date;\n    }\n}\n\nexport function setISODate(entity, param) {\n    if (entity && entity[param]) {\n        entity[param] = parseISOOrNull(entity[param])\n    }\n}\n\nexport function setEmptyIfNull(entity, param) {\n    if (entity && !entity[param]) {\n        entity[param] = '';\n    }\n}\n\nexport function asLocalTime(date, hyphen) {\n    if (date && date instanceof Date) {\n        var hh = date.getHours().toString();\n        var mm = (date.getMinutes()).toString(); // getMonth() is zero-based         \n        const space = hyphen ? \"-\" : \"\";\n        return (hh[1] ? hh : \"0\" + hh[0]) + \":\" + (mm[1] ? mm : \"0\" + mm[0]) + \":00\"\n    } else {\n        return date;\n    }\n}\n\nexport function asLocalDateTime(date, hyphen) {\n    if (date && date instanceof Date) {\n\n        var yyyy = date.getFullYear().toString();\n        var MM = (date.getMonth() + 1).toString(); // getMonth() is zero-based         \n        var dd = date.getDate().toString();\n\n        var hh = date.getHours().toString();\n        var mm = (date.getMinutes()).toString(); // getMonth() is zero-based         \n        const space = hyphen ? \"-\" : \"\";\n        return yyyy + space + (MM[1] ? MM : \"0\" + MM[0]) + space + (dd[1] ? dd : \"0\" + dd[0]) + 'T' + (hh[1] ? hh : \"0\" + hh[0]) + \":\" + (mm[1] ? mm : \"0\" + mm[0]) + \":00\"\n    } else {\n        return date;\n    }\n}\n\nexport function parseISOOrNull(date) {\n    return date ? parseISO(date) : null;\n}\n\n\nexport const daysDiff = (before, after) => {\n    if (before && after) {\n        let difference = (endOfDay(after).getTime()) - (startOfDay(before).getTime());\n        let TotalDays = Math.ceil(difference / (1000 * 3600 * 24));\n        return TotalDays;\n    }\n    return 0;\n}\n\nexport const daysDiffToday = (before) => {\n    const after = newDate()\n    if (before) {\n        let difference = (endOfDay(after).getTime()) - (startOfDay(before).getTime());\n        let TotalDays = Math.ceil(difference / (1000 * 3600 * 24));\n        return TotalDays;\n    }\n    return 0;\n}\n\n\nexport function getDateYear(date) {\n\n    if (date) {\n        const d = new Date(Date.parse(date)).getFullYear();\n        return d;\n    } else {\n        return null;\n    }\n}\n\nexport function parseDate(date) {\n    if (date !== null) {\n        return asShortStringDate(Date.parse(date));\n    }\n    return null;\n}\n\nexport function parseDateTime(date) {\n    if (date !== null) {\n        return asShortStringDateTime(Date.parse(date));\n    }\n    return null;\n}\n\n\nexport function isMatchFieldFilterOptions(field, filterOptions) {\n    const matchFilter = filterOptions.find(e => {\n        const entry = e.key.split('_');\n        const type = entry[0];\n        const id = Number(entry[1]);\n        const isMatchOption = isFieldMatchOption(field, type, id);\n        if (isMatchOption) {\n            return e;\n        }\n\n    });\n    return matchFilter ? true : null;\n}\n\nexport function isFieldMatchOption(field, type, id) {\n    if (type === 'field') {\n        return field.baseFieldId === id;\n    } else if (type === 'site') {\n        return field.siteId === id;\n    } else if (type === 'variety') {\n        return field.varietyId === id;\n    } else if (type === 'crop') {\n        return field.cropId === id;\n    } else if (type === 'tag1') {\n        return field.tag1Id === id;\n    } else if (type === 'tag2') {\n        return field.tag2Id === id;\n    } else if (type === 'parentField') {\n        return field.parentFieldId === id;\n    } else {\n        return false;\n    }\n}\n\nexport function isMatchFreeTextFilter(field, freeText) {\n    if (field.alias?.includes(freeText) || field.note?.includes(freeText)) {\n        return true;\n    }\n}\n\nexport const ACTIVE = 'active';\nexport const INACTIVE = 'inactive';\nexport const ALL = 'all';\n\nexport function filterFields(fields, filterOptions, freeText, fieldsViewStatus) {\n    let result = fields;\n    if (!isStringEmpty(freeText)) {\n        result = fields.filter(e => isMatchFreeTextFilter(e, freeText));\n    }\n    if (!isArrayEmpty(filterOptions)) {\n        result = result.filter(e => isMatchFieldFilterOptions(e, filterOptions));\n    }\n    // if (fieldSiteFilter !== 0) {\n    //     result = result.filter(e => fieldSiteFilter === e.siteId);\n    // }\n    // if (fieldBaseFieldFilter !== 0) {\n    //     result = result.filter(e => fieldBaseFieldFilter === e.baseFieldId);\n    // }\n    if ([ACTIVE, INACTIVE].includes(fieldsViewStatus)) {\n        if (ACTIVE === fieldsViewStatus) {\n            result = result.filter(e => e.endDate === null);\n        } else {\n            result = result.filter(e => e.endDate !== null);\n        }\n    }\n    return result;\n}\n\nexport const buildActiviesFilter = (start, end, freeText, autoComplete) => {\n    const filter = autoComplete.map(e => e.key);\n    if (!isStringEmpty(start)) {\n        filter.push(`start_${start.replaceAll('-', '')}`)\n    }\n    if (!isStringEmpty(end)) {\n        filter.push(`end_${end.replaceAll('-', '')}`)\n    }\n    if (!isStringEmpty(freeText)) {\n        filter.push(`freeText_${freeText}`)\n    }\n    return filter;\n}\n\n\nexport const formatNumber = (value) => {\n\n    if (!isNaN(value)) {\n        return value.toLocaleString('en-US')\n    }\n    return value;\n}\n\nconst thisYear = newDate().getFullYear();\nconst yearOptions = [thisYear + 2, thisYear + 1, thisYear, thisYear - 1, thisYear - 2, thisYear - 3];\nexport const getYearArray = (minYear) => {\n    if(minYear){\n        return yearOptions.filter(e=> e >= minYear);\n    }\n    return yearOptions;\n}\n\n\nexport function getOpacity(field) {\n    return field.endDate ? 1 : 0.3;\n}\n\nexport function getFillColor(field) {\n    if (field.endDate) {\n        return '#FFFFFF';\n    } else {\n        return field.color;\n    }\n}\n\nexport function getWinds() {\n    return ['windSpeedNone', 'windSpeedCalm', 'windSpeedStrong']\n}\n\nexport function getMarketingDestinations() {\n    return ['noneDestination', 'exportDestination', 'localMarketDestination', 'industryDestination']\n}\n\nexport function getMarketingIncomeCalcOptions() {\n    return ['weight', 'amount', 'area']\n}\n\n\nexport function safeDiv(numerator, denominator) {\n    if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {\n        return 0;\n    }\n\n    else return (numerator / denominator).toFixed(2)\n}\n\nexport function isMobile() {\n    const regex = /Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\n    return regex.test(navigator.userAgent);\n}\n\nexport function getMinDateWidth() {\n    return isMobile() ? 115 : 150;\n}\n\nexport function firstDayOfThisMonth() {\n    var date = new Date();\n    var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\n    return firstDay;\n}\n\nexport function lastDayOfThisMonth() {\n    var date = new Date();\n    var lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n    return lastDay;\n\n}\n\nexport function isInventoryPossible(userConf) {\n    return userConf.find(e => e.type === INVENTORY) ? true : false;\n}\n\nexport function isPlansPossible(userConf) {\n    return userConf.find(e => e.type.includes(\"_PLAN\")) ? true : false;\n}\n\nexport const trap = 'trap';\nexport const generic = 'generic';\nexport const tree = 'tree';\nexport const irrigationHead = 'irrigationHead';\n\n\nexport const pointTypeColor = [{ type: trap, color: \"red\" }, { type: tree, color: \"green\" }, { type: irrigationHead, color: \"blue\" }, { type: generic, color: \"orange\" }]\n\n\nexport const getPointTypeColor = (type) => {\n    return pointTypeColor.find(e => e.type === type)?.color;\n}\n\nexport function getPointTypes() {\n    return [generic, tree, trap, irrigationHead]\n}\n\n\nexport function stopMapEventPropagation(e) {\n    e.originalEvent.view.L.DomEvent.stopPropagation(e);\n}\n\nexport const FormSpacer = () => {\n    return <Box margin={1} />\n}\n\nexport const getFieldCenter = (center, field) => {\n    if (center) {\n        return center;\n    } else if (field.lat && field.lng) {\n        return [field.lat, field.lng];\n    } else if (!isArrayEmpty(field.geoPoints)) {\n        return field.geoPoints[0];\n    }\n}\n\nexport const countLines = (text) => {\n    if (text) {\n        const lines = text.split('\\n').length;\n        return lines;\n    }\n    return 0;\n}\n\nexport const getExpieryText = (text, type) => {\n    if ([trap].includes(type)) {\n        return text.baitExpiry;\n    } else {\n        return text.expiry;\n    }\n\n}\n\nconst geoOptions = {\n    enableHighAccuracy: true,\n    timeOut: 5000\n};\n\nexport const getGeoCurrentPosition = (setPosition) => {\n\n    if (isMobile() && navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(setPosition, setPosition(-1), geoOptions);\n    }\n    else {\n        setPosition(-2)\n    }\n}\n\nexport const getGeoPosition = (setPosition) => {\n\n\n\n    const geoSucces = (position) => {\n        setPosition([position.coords.latitude, position.coords.longitude])\n    }\n\n    const goFailure = (err) => {\n        console.log('Error getCurrentPosition: ' + err);\n        setPosition(-1);\n    }\n\n    if (isMobile() && navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(geoSucces, goFailure, geoOptions);\n    }\n    else {\n        setPosition(-2)\n    }\n}\n\nexport function isPointInPoly(poly, pt) {\n    if (isArrayEmpty(poly) || isArrayEmpty(pt)) {\n        return false;\n    }\n    for (var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)\n        ((poly[i][1] <= pt[1] && pt[1] < poly[j][1]) || (poly[j][1] <= pt[1] && pt[1] < poly[i][1]))\n            && (pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0])\n            && (c = !c);\n    return c;\n}\n\nexport const buildFieldOptions = (fields) => {\n    if (isArrayEmpty(fields)) {\n        return [];\n    }\n    const options =\n        (fields.map(e => { return { key: 'field_' + e.baseFieldId, id: e.baseFieldId, label: e.name, element: e } }))\n            .concat(fields.map(e => { return { key: 'site_' + e.siteId, id: e.id, label: e.siteName, element: e } }))\n            .concat(fields.map(e => { return { key: 'crop_' + e.cropId, id: e.id, label: e.cropName, element: e } }))\n            .concat(fields.map(e => { return { key: 'variety_' + e.varietyId, id: e.id, label: e.varietyName, element: e } }))\n            .concat(fields.filter(e => e.parentFieldId !== null).map(e => { return { key: 'parentField_' + e.parentFieldId, id: e.parentFieldId, label: e.parentFieldName, element: e } }))\n            .concat(fields.filter(e => e.tag1Id !== null).map(e => { return { key: 'tag1_' + e.tag1Id, id: e.tag1Id, label: e.tag1Name, element: e } }))\n            .concat(fields.filter(e => e.tag2Id !== null).map(e => { return { key: 'tag2_' + e.tag2Id, id: e.tag2Id, label: e.tag2Name, element: e } }))\n\n    return uniqueArray(options, 'key');\n}\n\nconst isFieldKey = (key) => {\n    const stateList = ['field_', 'crop_', 'variety_', 'parentField_', 'tag1_', 'tag2_']\n    var result = stateList.filter(e => key.startsWith(e));\n    return result.length !== 0;\n}\n\nexport const buildActivityOptions = (fields, activityDefs, fieldId, text, isPlan, role) => {\n    // const resourceTypes = [PESTICIDE, FERTILIZER]\n    const options =\n        getActivityStatuses(role, isPlan).map(e => {\n            return { key: 'status_' + e, id: e, label: getActivityStatusText(e, text), element: e }\n        })\n            .concat(\n                getActivityTypes(role, false, isPlan).map(e => {\n                    return { key: 'activityType_' + e, id: e, label: getActivityTypeText(e, text), element: e }\n                }))\n            .concat(isNaN(fieldId) ? buildFieldOptions(fields) : [])\n            .concat(asSafeArray(activityDefs).map(e => {\n                return { key: 'activityDef_' + e.id, id: e, label: e.name, element: e }\n            }))\n            .concat(asSafeArray(activityDefs).map(e => {\n                return { key: 'activityDefType_' + e.activityGroupId, id: e.activityGroupId, label: e.activityGroupName, element: e }\n            }))\n    // .concat(resourceTypes.map(e => {\n    //     return { key: 'resourceType_' + e, id: e, label: getResourceTypeText(e,text), element: e }\n    // }))\n    return uniqueArray(options, 'key');\n}\n\nconst asSafeArray = (arr) => {\n    return isArrayEmpty(arr) ? [] : arr;\n}\n\nexport const removeRedundantSelectedActivityOptions = (options, fieldId) => {\n    return isNaN(Number(fieldId)) ? options : options.filter(e => !isFieldKey(e.key));\n}\n\n\n\nconst uniqueArray = (array, propertyName) => {\n    return [...new Map(array.map(item => [item[propertyName], item])).values()];\n    /*\n        const attr = isStringEmpty(propertyName) ? 'key' : propertyName;\n        return array.reduce((acc, current) => {\n            const x = acc.find(item => item[attr] === current[attr]);\n            if (!x) {\n                return acc.concat([current]);\n            } else {\n                return acc;\n            }\n        }, []);*/\n}\n\nconst fieldDisplayText = (f) => {\n    if (isStringEmpty(f.alias)) {\n        return f.name;\n    } else {\n        return `${f.name} (${f.alias})`\n    }\n}\n\n\n\n/*\nexport function buildDomainFilter(domains, cropID) {\n    const filterDomains = cropID ? domains.filter(domain => domain.variety.cropID === cropID) : domains;\n\n    let fieldFilter = filterDomains.map(domain => (\n        {\n            value: 'field_' + domain.field.id,\n            label: addBusinessName(domain, getFieldName(domain)),\n        }\n    ));\n\n    let sites = filterDomains.map(domain => {\n        if (domain.field.site)\n            return (\n                {\n                    value: 'site_' + domain.field.site.id,\n                    label: domain.field.site.name\n                }\n            )\n    });\n    let parentField = filterDomains.map(domain => {\n        if (domain.field.parentField)\n            return (\n                {\n                    value: 'parentField_' + domain.field.parentField.id,\n                    label: domain.field.parentField.name\n                }\n            )\n    });\n    let crops = filterDomains.filter(domain => !isEmpty(domain.variety.identification)).map(domain => (\n        {\n            value: 'crop_' + domain.variety.cropID,\n            label: addBusinessName(domain, domain.variety.category),\n        }\n    ));\n    let varieties = filterDomains.filter(domain => !isEmpty(domain.variety.name)).map(domain => {\n        return (\n            {\n                value: 'variety_' + domain.variety.id,\n                label: addBusinessName(domain, domain.variety.name),\n\n            }\n        )\n    });\n\n    let tag1 = filterDomains.map(domain => {\n        if (domain.tag1)\n            return (\n                {\n                    value: 'tag1_' + domain.tag1.id,\n                    label: domain.tag1.name\n                }\n            )\n    });\n\n    let tag2 = filterDomains.map(domain => {\n        if (domain.tag2)\n            return (\n                {\n                    value: 'tag2_' + domain.tag2.id,\n                    label: domain.tag2.name\n                }\n            )\n    });\n\n    let all = [];\n    if (!cropID) {\n        all = all.concat(uniqBy(crops, 'value'));\n    }\n    all = all.concat(uniqBy(varieties, 'value'));\n    all = all.concat(uniqBy(sites, 'value'));\n    all = all.concat(uniqBy(parentField, 'value'));\n    all = all.concat(uniqBy(fieldFilter, 'value'));\n    all = all.concat(uniqBy(tag1, 'value'));\n    all = all.concat(uniqBy(tag2, 'value'));\n\n    return all.filter((element) => element !== undefined);\n}\n\n\nexport function filterDomainsFreeText(domains, filter) {\n    if (isEmpty(filter)) {\n        return domains;\n    }\n    return domains.filter(d =>\n        d.field.name.includes(filter) ||\n        d.variety.name.includes(filter) ||\n        d.variety.category.includes(filter) ||\n        (!isEmpty(''+d.year) && (''+d.year).includes(filter)) ||\n        (!isEmpty(d.alias) && d.alias.includes(filter)) ||\n        (!isEmpty(d.description) && d.description.includes(filter)) ||\n        // (d.field.site !== null && d.field.site.name.includes(filter)) ||\n        (d.field.parentField !== null && !isEmpty(d.field.parentField.code) && d.field.parentField.code.includes(filter))\n    );\n}\n\n*/"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/Util.js"],"sourcesContent":["import { Slide } from \"@mui/material\";\nimport React from \"react\";\n\n\nconst p = 1;\nconst fontSize= 17;\n\nexport const headerSx = { fontWeight: 'bold', padding: p, fontSize };\nexport const cellSx = { padding: p, fontSize };\nexport const cellSxLink = { padding: p, textDecoration: 'underline', color: 'blue', fontSize };\nexport const cellSxChange = { padding: p, color: 'green', fontWeight: 'bold', fontSize };\n\nexport const cellSxColor = (color) => {\n    const val = { padding: p, fontWeight: 'bold', color, fontSize };\n    return val\n};\n\nexport const Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;;;;;;AAGA,IAAM,IAAI;AACV,IAAM,WAAU;AAET,IAAM,WAAW;IAAE,YAAY;IAAQ,SAAS;IAAG,UAAA;AAAS;AAC5D,IAAM,SAAS;IAAE,SAAS;IAAG,UAAA;AAAS;AACtC,IAAM,aAAa;IAAE,SAAS;IAAG,gBAAgB;IAAa,OAAO;IAAQ,UAAA;AAAS;AACtF,IAAM,eAAe;IAAE,SAAS;IAAG,OAAO;IAAS,YAAY;IAAQ,UAAA;AAAS;AAEhF,IAAM,cAAc,SAAC;IACxB,IAAM,MAAM;QAAE,SAAS;QAAG,YAAY;QAAQ,OAAA;QAAO,UAAA;IAAS;IAC9D,OAAO;AACX;AAEO,IAAM,2BAAa,wKAAK,CAAC,UAAU,MAAC,SAAS,WAAW,KAAK,EAAE,GAAG;IACrE,qBAAO,6LAAC,0MAAK;QAAC,WAAU;QAAK,KAAK;OAAS;;;;;AAC/C"}},
    {"offset": {"line": 1373, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/settings/SettingsDialog.js"],"sourcesContent":["import React from 'react'\nimport { Box, Checkbox, Dialog, DialogContent, FormControlLabel, IconButton, MenuItem, Select } from '@mui/material'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectLang, selectOpenSettings, selectShowInventory, selectShowPlans, setLang, setOpenSettings, setShowInventory, setShowPlans } from '../../features/app/appSlice';\nimport { DesktopWindowsOutlined, MobileFriendlyOutlined } from '@mui/icons-material';\nimport { getUserLang } from '../../router/UserRoutes';\nimport { isInventoryPossible, isMobile, isPlansPossible } from '../FarmUtil';\nimport { useGetUserDataQuery } from '../../features/auth/authApiSlice';\nimport DialogAppBar from '../dialog/DialogAppBar';\nimport { Transition } from '../Util';\n\nconst flagMap = [\n    { id: 'en', flag: 'GB', label: 'English', emoji: 'ðŸ‡¬ðŸ‡§' },\n    { id: 'pt', flag: 'PT', label: 'PortuguÃªs', emoji: 'ðŸ‡µðŸ‡¹' },\n    { id: 'es', flag: 'ES', label: 'EspaÃ±ol', emoji: 'ðŸ‡ªðŸ‡¸' },\n    { id: 'he', flag: 'IL', label: '×¢×‘×¨×™×ª', emoji: 'ðŸ‡®ðŸ‡±' },\n];\n\nconst SettingsDialog = () => {\n\n    const text = useSelector(selectLang)\n    const dispatch = useDispatch()\n    const open = useSelector(selectOpenSettings)\n\n    const [showAgent, setShowAgent] = React.useState(false);\n\n    const { data: user, isSuccess: isUserSuccess } = useGetUserDataQuery()\n\n    const isInventory = isUserSuccess ? isInventoryPossible(user.userConf) : false;\n    const isPlans = isUserSuccess ? isPlansPossible(user.userConf) : false;\n\n    const showInventory = useSelector(selectShowInventory);\n    const showPlans = useSelector(selectShowPlans);\n\n    const handleClose = () => {\n        dispatch(setOpenSettings(false));\n    }\n\n    const handleLangChange = (lang) => {\n        dispatch(setLang(getUserLang(lang)))\n        dispatch(setOpenSettings(false));\n    }\n\n    const handleInvenotryChange = () => {\n        dispatch(setShowInventory(!showInventory));\n        dispatch(setOpenSettings(false));\n    }\n\n    const handlePlansChange = () => {\n        dispatch(setShowPlans(!showPlans));\n        dispatch(setOpenSettings(false));\n    }\n\n    // const handleNewActivityGeoChange = () => {\n    //     dispatch(setNewActivityGeo(!newActivityGeo));\n    //     dispatch(setOpenSettings(false));\n    // }\n\n    return (\n        <Dialog\n            fullScreen={isMobile()} fullWidth={!isMobile()}\n            open={open}\n            onClose={handleClose}\n            disableRestoreFocus={true}\n            slots={{ transition: Transition }}\n        >\n            <DialogAppBar onClose={handleClose} title={\"\"} />\n\n            <DialogContent>\n                <Select\n                    labelId=\"demo-simple-select-label\"\n                    id=\"demo-simple-select\"\n                    value={text.lang}\n                    fullWidth\n                    onChange={e => handleLangChange(e.target.value)}\n                >\n                    {flagMap.map(e =>\n\n                        <MenuItem key={e.id} value={e.id}  >\n                            <Box display={'flex'} flexDirection={'row'} alignItems={'center'} alignContent={'center'}>\n                                <Box fontSize={25}> {e.emoji}</Box>\n                                <Box marginLeft={1} marginRight={1}>{`${e.label}`} </Box>\n                            </Box>\n                        </MenuItem>\n                    )}\n                </Select>\n                {isPlans &&\n                    <Box marginTop={2} display={'flex'} flexDirection={'row'} >\n                        <FormControlLabel control={<Checkbox checked={showPlans} onChange={handlePlansChange} />} label={text.plans} />\n                    </Box>\n                }\n                {isInventory &&\n                    <Box marginTop={2} display={'flex'} flexDirection={'row'} >\n                        <FormControlLabel control={<Checkbox checked={showInventory} onChange={handleInvenotryChange} />} label={text.inventory} />\n\n\n                    </Box>\n                }\n                <Box marginTop={2} display={'flex'} flexDirection={'row'} >\n                    <Box>\n                        <IconButton sx={{ padding: 0 }} onClick={_ => setShowAgent(!showAgent)} >\n                            {isMobile() ? <MobileFriendlyOutlined /> : <DesktopWindowsOutlined />}\n                        </IconButton>\n                    </Box>\n                    <Box margin={1} />\n                    {showAgent && <Box>{navigator.userAgent}</Box>}\n                </Box>\n            </DialogContent>\n        </Dialog>\n    )\n}\nexport default SettingsDialog"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1681, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/layers/PointIcon.js"],"sourcesContent":["import { BugReportOutlined, CenterFocusStrong, Opacity, Water, AdjustOutlined as Activity } from '@mui/icons-material'\nimport React from 'react'\nimport { irrigationHead, parseISOOrNull, trap } from '../FarmUtil';\nimport { Avatar } from '@mui/material';\nimport { SECONDARY_MAIN } from '../../App';\nimport Scout from '@mui/icons-material/PestControl';\nimport { ACTIVITY, SCOUT } from './LayersDialog';\n\n\nconst height = 32;\n\nconst isExpired = (point) => {\n    if (point.active && point.expiry) {\n        const expiry = parseISOOrNull(point.expiry);\n        if (expiry.valueOf() < new Date().valueOf()) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst getBorderColor = (point) => {\n    if (isExpired(point)) {\n        return 'red';\n    }\n\n    return null;\n}\n\nconst getBorderWidth = (point) => {\n    if (getBorderColor(point) === null) {\n        return null;\n    }\n\n    return 3;\n}\n\nexport const SCOUT_POINT_TYPE = \"scout\";\nexport const ACTIVITY_POINT_TYPE = \"activity\";\n\nconst getBgColor = (point, color) => {\n    if (color) {\n        return color;\n    } else if (!point.active) {\n        return 'gray';\n    } else if (point.type === irrigationHead) {\n        return '#82b1ff';\n    } else {\n        return 'white';\n    }\n\n}\n\nfunction PointIcon({ point, color }) {\n    const backgroundColor = getBgColor(point, color);\n    if (point.type === SCOUT_POINT_TYPE) {\n        return <Avatar sx={{ height: height, width: height, backgroundColor, borderColor: getBorderColor(point) }}> <Scout fontSize=\"medium\" sx={{ color: 'black' }} /></Avatar>;\n    }\n    else if (point.type === trap) {\n        return <Avatar sx={{ height: height, width: height, backgroundColor, border: getBorderWidth(point), borderColor: getBorderColor(point) }}> <CenterFocusStrong fontSize=\"medium\" sx={{ color: 'black' }} /></Avatar>;\n    }\n    else if (point.type === irrigationHead) {\n        return <Avatar sx={{ height: height, width: height, backgroundColor, border: getBorderWidth(point), borderColor: getBorderColor(point) }}> <Opacity fontSize=\"medium\" sx={{ color: 'black' }} /></Avatar>;\n    } else {\n        return <Avatar sx={{ height: height, width: height, backgroundColor, border: getBorderWidth(point), borderColor: getBorderColor(point) }}> <Activity fontSize=\"medium\" sx={{ color: 'black' }} /></Avatar>;\n    }\n}\n\n\nexport default PointIcon"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAGA,IAAM,SAAS;AAEf,IAAM,YAAY,SAAC;IACf,IAAI,MAAM,MAAM,IAAI,MAAM,MAAM,EAAE;QAC9B,IAAM,SAAS,IAAA,0IAAc,EAAC,MAAM,MAAM;QAC1C,IAAI,OAAO,OAAO,KAAK,IAAI,OAAO,OAAO,IAAI;YACzC,OAAO;QACX;IACJ;IACA,OAAO;AACX;AAEA,IAAM,iBAAiB,SAAC;IACpB,IAAI,UAAU,QAAQ;QAClB,OAAO;IACX;IAEA,OAAO;AACX;AAEA,IAAM,iBAAiB,SAAC;IACpB,IAAI,eAAe,WAAW,MAAM;QAChC,OAAO;IACX;IAEA,OAAO;AACX;AAEO,IAAM,mBAAmB;AACzB,IAAM,sBAAsB;AAEnC,IAAM,aAAa,SAAC,OAAO;IACvB,IAAI,OAAO;QACP,OAAO;IACX,OAAO,IAAI,CAAC,MAAM,MAAM,EAAE;QACtB,OAAO;IACX,OAAO,IAAI,MAAM,IAAI,KAAK,0IAAc,EAAE;QACtC,OAAO;IACX,OAAO;QACH,OAAO;IACX;AAEJ;AAEA,SAAS,UAAU,KAAgB;QAAd,QAAF,MAAE,OAAO,QAAT,MAAS;IACxB,IAAM,kBAAkB,WAAW,OAAO;IAC1C,IAAI,MAAM,IAAI,KAAK,kBAAkB;QACjC,qBAAO,6LAAC,8MAAM;YAAC,IAAI;gBAAE,QAAQ;gBAAQ,OAAO;gBAAQ,iBAAA;gBAAiB,aAAa,eAAe;YAAO;;gBAAG;8BAAC,6LAAC,8KAAK;oBAAC,UAAS;oBAAS,IAAI;wBAAE,OAAO;oBAAQ;;;;;;;;;;;;IAC9J,OACK,IAAI,MAAM,IAAI,KAAK,gIAAI,EAAE;QAC1B,qBAAO,6LAAC,8MAAM;YAAC,IAAI;gBAAE,QAAQ;gBAAQ,OAAO;gBAAQ,iBAAA;gBAAiB,QAAQ,eAAe;gBAAQ,aAAa,eAAe;YAAO;;gBAAG;8BAAC,6LAAC,oLAAiB;oBAAC,UAAS;oBAAS,IAAI;wBAAE,OAAO;oBAAQ;;;;;;;;;;;;IACzM,OACK,IAAI,MAAM,IAAI,KAAK,0IAAc,EAAE;QACpC,qBAAO,6LAAC,8MAAM;YAAC,IAAI;gBAAE,QAAQ;gBAAQ,OAAO;gBAAQ,iBAAA;gBAAiB,QAAQ,eAAe;gBAAQ,aAAa,eAAe;YAAO;;gBAAG;8BAAC,6LAAC,0KAAO;oBAAC,UAAS;oBAAS,IAAI;wBAAE,OAAO;oBAAQ;;;;;;;;;;;;IAC/L,OAAO;QACH,qBAAO,6LAAC,8MAAM;YAAC,IAAI;gBAAE,QAAQ;gBAAQ,OAAO;gBAAQ,iBAAA;gBAAiB,QAAQ,eAAe;gBAAQ,aAAa,eAAe;YAAO;;gBAAG;8BAAC,6LAAC,iLAAQ;oBAAC,UAAS;oBAAS,IAAI;wBAAE,OAAO;oBAAQ;;;;;;;;;;;;IAChM;AACJ;KAbS;uCAgBM"}},
    {"offset": {"line": 1871, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/layers/LayersDialog.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Box, Button, Checkbox, Dialog, DialogContent, Divider, FormControlLabel, Slide } from '@mui/material'\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    selectLang, selectOpenLayers, setOpenLayers,\n    selectShowLayers,\n    setShowLayers,\n    setEditLayer,\n    selectShowFieldAlias,\n    selectShowFieldName,\n    setShowFieldName,\n    setShowFieldAlias,\n    selectShowOfficialFieldId,\n    setShowOfficialFieldId,\n    selectVisibilLayes,\n    setVisibleLayers\n} from '../../features/app/appSlice';\nimport { isMobile } from '../FarmUtil';\nimport { useGetUserDataQuery } from '../../features/auth/authApiSlice';\nimport DialogAppBar from '../dialog/DialogAppBar';\nimport { CenterFocusStrong, Opacity } from '@mui/icons-material';\nimport PointForm from '../point/PointForm';\nimport { useGetLayersQuery } from '../../features/points/pointsApiSlice';\nimport { vi } from 'date-fns/locale';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport const SCOUT = 'scout'\nexport const ACTIVITY = 'activity'\nconst irrigationHead = 'irrigationHead'\nconst trap = 'trap'\n\nconst LayersDialog = () => {\n\n    const text = useSelector(selectLang)\n    const dispatch = useDispatch()\n    const open = useSelector(selectOpenLayers)\n\n    const [newPoint, setNewPoint] = useState(null);\n\n\n    // const { data: user, isSuccess: isUserSuccess } = useGetUserDataQuery()\n\n\n    const showLayers = useSelector(selectShowLayers);\n\n    const showFieldAlias = useSelector(selectShowFieldAlias);\n    const showFieldName = useSelector(selectShowFieldName);\n    const showOfficialFieldId = useSelector(selectShowOfficialFieldId);\n    const visibilLayes = useSelector(selectVisibilLayes);\n    const { data: layers, isLoading: isLoadingPoints, isFetching: isFetchingPoints } = useGetLayersQuery();\n\n\n    // const onNewPointSaved = () => {\n    //     setNewPoint(null);\n    // }\n\n    const addPoint = (type) => {\n        const point = {\n            id: null,\n            lat: null, lng: null,\n            fieldId: null,\n            name: '',\n            pest: null,\n            expiry: null,\n            active: true, type: type\n        };\n        setNewPoint(point)\n\n    }\n\n    const handleClose = () => {\n        dispatch(setOpenLayers(false));\n    }\n\n    // const handleEditLayer = (layer) => {\n    //     dispatch(setOpenLayers(false));\n    //     dispatch(setEditLayer(layer));\n    //     dispatch(setShowLayers([layer]));\n    // }\n\n    const handleChange = (layer) => {\n        if (showLayers.includes(layer)) {\n            dispatch(setShowLayers(showLayers.filter(e => e !== layer)));\n        } else {\n            dispatch(setShowLayers(showLayers.concat(layer)));\n        }\n    }\n\n    const getLayers = () => {\n        return layers ? layers : [];\n    }\n\n    return (\n        <Dialog\n            fullScreen={isMobile()} fullWidth={!isMobile()}\n            open={open}\n            onClose={handleClose}\n            slots={{ transition: Transition }}\n        >\n            <DialogAppBar onClose={handleClose} title={text.layers} />\n\n\n            <DialogContent>\n\n                <Box marginTop={1} display={'flex'} flexDirection={'row'} >\n                    <FormControlLabel control={<Checkbox checked={showLayers.includes(SCOUT)} onChange={() => handleChange(SCOUT)} />} label={text.pests} />\n                </Box>\n                <Divider />\n                <Box marginTop={1} display={'flex'} flexDirection={'row'} >\n                    <FormControlLabel control={<Checkbox checked={showLayers.includes(ACTIVITY)} onChange={() => handleChange(ACTIVITY)} />} label={text.activities} />\n                </Box>\n                <Divider />\n                <Box marginTop={1} marginBottom={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                    <FormControlLabel control={<Checkbox checked={showLayers.includes(trap)} onChange={() => handleChange(trap)} />} label={text.traps} />\n                    {/* <IconButton onClick={() => handleEditLayer(trap)}><EditLocationAlt /></IconButton> */}\n                    <Button disableElevation variant='outlined' color='secondary' onClick={() => addPoint(trap)} startIcon={<CenterFocusStrong />}>{text.add}</Button>\n\n                </Box>\n                <Divider />\n\n                {/* <Box marginTop={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                    <FormControlLabel control={<Checkbox checked={showLayers.includes(irrigationHead)} onChange={() => handleChange(irrigationHead)} />} label={text.irrigationHeads} />\n                    <Button disableElevation variant='outlined' color='secondary' onClick={() => addPoint(irrigationHead)} startIcon={<Opacity />}>{text.add}</Button>\n\n                </Box> */}\n                <Box marginTop={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                    <FormControlLabel control={<Checkbox checked={showFieldName} onChange={() => dispatch(setShowFieldName(!showFieldName))} />} label={text.field} />\n                </Box>\n                <Box marginTop={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                    <FormControlLabel control={<Checkbox checked={showFieldAlias} onChange={() => dispatch(setShowFieldAlias(!showFieldAlias))} />} label={text.alias} />\n                </Box>\n                <Box marginTop={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                    <FormControlLabel control={<Checkbox checked={showOfficialFieldId} onChange={() => dispatch(setShowOfficialFieldId(!showOfficialFieldId))} />} label={text.officialFieldId} />\n                </Box>\n                <Divider />\n                {getLayers().map(e => {\n                    return < Box key={e.id} marginTop={1} display={'flex'} flexDirection={'row'} justifyContent={'space-between'} >\n                        <FormControlLabel control={<Checkbox checked={visibilLayes.find(id => e.id === id) ? true : false} onChange={() => dispatch(setVisibleLayers(e.id))} />} label={e.name} />\n                    </Box>\n                }\n\n                )\n                }\n\n            </DialogContent>\n            {\n                newPoint && <PointForm open={newPoint !== null}\n                    defaultValues={newPoint} handleClose={() => setNewPoint(null)} deletable={false}\n\n                />\n            }\n        </Dialog >\n    )\n}\nexport default LayersDialog"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2285, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/forms/season/SeasonDataForm.js"],"sourcesContent":["import { AppBar, Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, Divider, IconButton, InputAdornment, Toolbar, Typography } from \"@mui/material\";\nimport TextFieldBase from \"../../../components/ui/TextField\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectLang, setSnackbar } from \"../../../features/app/appSlice\";\nimport { Cancel, Close, Save } from \"@mui/icons-material\";\nimport { UI_SIZE, asLocalDate } from \"../../FarmUtil\";\n\nimport { DatePicker } from \"@mui/x-date-pickers\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useCreateSeasonDataMutation, useUpdateSeasonDataMutation } from \"../../../features/season/seasonDataApiSlice\";\nimport { useGetUserDataQuery } from \"../../../features/auth/authApiSlice\";\n\n\n\n\nconst SeasonDataForm = ({ defaultValues, open, handleClose, plantation }) => {\n    const text = useSelector(selectLang);\n\n    const [createSeasonData] = useCreateSeasonDataMutation();\n    const [updateSeasonData] = useUpdateSeasonDataMutation()\n\n    const dispatch = useDispatch()\n\n    const { data: user } = useGetUserDataQuery()\n\n    const { control, register, handleSubmit, getValues, watch, formState: { errors },\n        formState: { isDirty, dirtyFields }, reset, setValue, trigger\n    } = useForm({ defaultValues });\n\n    const saveSeasonData = (data) => {\n        data.ripe = asLocalDate(data.ripe, true);\n        data.flash = asLocalDate(data.flash, true);\n\n        if (data.id) {\n            return createSeasonData(data).unwrap();\n        } else {\n            return updateSeasonData(data).unwrap();\n        }\n    }\n\n\n\n    const onSubmit = async (data) => {\n        try {\n            const result = await saveSeasonData(data);\n            dispatch(setSnackbar({ msg: data.id ? text.recordUpdated : text.recordCreated, severity: 'success' }))\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    const onAction = (save) => {\n        handleClose(save ? null : null);\n    }\n\n    return (\n        <Dialog\n            open={open}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n        >\n\n            <AppBar sx={{ position: 'relative' }} elevation={0}>\n                <Toolbar>\n                    <Box display={'flex'} flex={1} justifyContent={'space-between'}>\n                        <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\n                            {text.season}\n                        </Typography>\n                        <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\n                            {defaultValues.year}\n                        </Typography>\n                    </Box>\n                    <IconButton\n                        edge=\"start\"\n                        onClick={() => onAction(false)}\n                        color=\"inherit\"\n                        aria-label=\"done\"\n                    >\n                        <Close />\n                    </IconButton>\n                </Toolbar>\n            </AppBar>\n\n            <form onSubmit={handleSubmit(onSubmit)} >\n\n                <DialogContent>\n                    <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n                        <Controller\n                            control={control}\n                            name=\"estimateProducePerAreaUnit\"\n                            render={({ field: { ref, ...field } }) => (\n                                <TextFieldBase\n                                    sx={{ flex: 1 }}\n                                    size={UI_SIZE}\n                                    fullWidth\n                                    type=\"number\"\n                                    id=\"activity-estimateProducePerAreaUnit\"\n                                    label={text.estimatedProduce}  {...field}\n                                    InputProps={{\n                                        endAdornment: <InputAdornment position=\"end\">{\n                                            `${text[user.weightUnit]}/${text[user.areaUnit]}`\n                                        }\n                                        </InputAdornment>,\n                                    }}\n\n                                />\n                            )}\n                        />\n                    </Box>\n                    <Box margin={1} />\n                    <Box display={'flex'} flex={1} >\n                        {plantation && <Controller\n                            name=\"ripe\"\n                            control={control}\n                            render={({ field }) =>\n                                <DatePicker label={text.ripe}\n                                    closeOnSelect\n                                    showToolbar={false}\n                                    localeText={{\n                                        cancelButtonLabel: text.cancel,\n                                        clearButtonLabel: text.clear,\n                                        okButtonLabel: text.save\n                                    }}\n                                    slotProps={{\n                                        textField: { size: UI_SIZE, variant: 'outlined', sx: { marginTop: 0.5, flex: 1 } },\n                                        actionBar: { actions: [\"cancel\", \"clear\"] }\n                                    }}\n                                    {...field} />}\n                        />}\n                        {!plantation && <Controller\n                            name=\"flash\"\n                            control={control}\n                            render={({ field }) =>\n                                <DatePicker label={text.flash}\n                                    closeOnSelect\n                                    showToolbar={false}\n                                    localeText={{\n                                        cancelButtonLabel: text.cancel,\n                                        clearButtonLabel: text.clear,\n                                        okButtonLabel: text.save\n                                    }}\n                                    slotProps={{\n                                        textField: { size: UI_SIZE, variant: 'outlined', sx: { marginTop: 0.5, flex: 1 } },\n                                        actionBar: { actions: [\"cancel\", \"clear\"] }\n                                    }}\n                                    {...field} />}\n                        />}\n                    </Box>\n                    <Box margin={1} />\n                    <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n                        <Controller\n                            control={control}\n                            name=\"note\"\n                            render={({ field: { ref, ...field } }) => (\n                                <TextFieldBase\n                                    id=\"season-note\"\n                                    size={UI_SIZE}\n                                    label={text.note} fullWidth multiline rows={3} {...field} />\n                            )}\n                        />\n                    </Box>\n\n                </DialogContent>\n                <DialogActions sx={{ justifyContent: 'center' }}>\n                    <Button size='large' disabled={!isDirty} endIcon={<Save />} disableElevation={true} variant='contained' type=\"submit\" >\n                        {text.save}\n                    </Button>\n                </DialogActions>\n            </form >\n\n        </Dialog >\n    )\n}\n\nexport default SeasonDataForm;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2739, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/forms/season/SeasonData.js"],"sourcesContent":["import SeasonDataForm from './SeasonDataForm'\nimport { useGetSeasonDataQuery } from '../../../features/season/seasonDataApiSlice'\nimport { setEmptyIfNull, setISODate } from '../../FarmUtil'\nimport { useFieldsById } from '../../../features/fields/fieldsApiSlice'\n\nconst SeasonData = ({ open, handleClose, year, fieldId }) => {\n\n  const { data, isSuccess } = useGetSeasonDataQuery({ year, fieldId })\n  const field = useFieldsById(year, Number(fieldId))\n\n  if(!data || !field){\n    return <div/>\n  }\n  const defaultValues = {...data};\n  setISODate(defaultValues,'ripe')\n  setISODate(defaultValues,'flash')\n  setEmptyIfNull(defaultValues,'estimateProducePerAreaUnit')\n  defaultValues.field = field;\n  return (\n    <SeasonDataForm open={open} handleClose={handleClose} defaultValues={defaultValues} plantation={field.plantation}  />\n  )\n}\n\nexport default SeasonData"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEA,IAAM,aAAa;QAAG,aAAA,MAAM,oBAAA,aAAa,aAAA,MAAM,gBAAA;;IAE7C,IAA4B,yBAAA,IAAA,2KAAqB,EAAC;QAAE,MAAA;QAAM,SAAA;IAAQ,IAA1D,OAAoB,uBAApB,MAAM,YAAc,uBAAd;IACd,IAAM,QAAQ,IAAA,+JAAa,EAAC,MAAM,OAAO;IAEzC,IAAG,CAAC,QAAQ,CAAC,OAAM;QACjB,qBAAO,6LAAC;;;;;IACV;IACA,IAAM,gBAAgB,2KAAI;IAC1B,IAAA,sIAAU,EAAC,eAAc;IACzB,IAAA,sIAAU,EAAC,eAAc;IACzB,IAAA,0IAAc,EAAC,eAAc;IAC7B,cAAc,KAAK,GAAG;IACtB,qBACE,6LAAC,4JAAc;QAAC,MAAM;QAAM,aAAa;QAAa,eAAe;QAAe,YAAY,MAAM,UAAU;;;;;;AAEpH;GAhBM;;QAEwB,2KAAqB;QACnC,+JAAa;;;KAHvB;uCAkBS"}},
    {"offset": {"line": 2807, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/FarmCalculator.js"],"sourcesContent":["// import { FERTILIZER } from \"../reducers/ResourceReducer\";\n// import { PER_LIT, PER_KG, PER_M3, PER_CONTAINER } from \"./Units\";\n// import { sumBy } from 'lodash';\n// import { CONTRACTOR, WORKER, WORKER_GROUP } from \"../modules/activity/types\";\n\nimport { el } from \"date-fns/locale\";\nimport { CONTRACTOR, WORKER, WORKER_GROUP } from \"./FarmUtil\";\n\n\nexport function calcNPK(quntity, specificGravity, value, usageUnit) {\n    let result = ((quntity * value) / 100) * specificGravity;\n    if (result) {\n        if ('m3' === usageUnit) {\n            result = result * 1000;\n        }\n        return result.toFixed(2);\n    }\n    return 0;\n}\n\n\nexport function calcIrrigationDays(days, frequency) {\n    if (days && frequency) {\n        return (days / frequency).toFixed(0);\n    }\n    return 1;\n}\n\nexport function calcTotalWaterQtyUtilFunc(irrigationMtd, waterQty, area, daysInPeriod, irrigationDays, numberOfFields) {\n\n    switch (irrigationMtd) {\n\n        case PER_AREA_UNIT_PER_DAY: {\n            return waterQty * area * daysInPeriod;\n        }\n        case PER_AREA_UNIT_PER_IRREGATION_DAY: {\n            return waterQty * area * irrigationDays;\n        }\n        case TOTAL_PER_AREA_UNIT: {\n            return waterQty * area;\n        }\n        case TOTAL_PER_FIELD: {\n            return waterQty * numberOfFields;\n        }\n        default: {\n            return waterQty;\n        }\n    }\n}\n\nexport const PER_WATER_UNIT = 'perM3Water'\nexport const PER_AREA_UNIT_PER_DAY = 'perAreaUnitPerDay'\nexport const PER_AREA_UNIT_PER_IRREGATION_DAY = 'perAreaUnitPerIrrigationDay'\nexport const TOTAL_PER_AREA_UNIT = 'totalPerAreaUnit'\nexport const TOTAL_PER_FIELD = 'totalPerField'\n\n\nexport function calcTotalFertilizerQty(fertilizeMethod, fertilizerQty, totalWaterQty, area, daysInPeriod, irrigationDays, numberOfFields) {\n    switch (fertilizeMethod) {\n        case PER_WATER_UNIT: {\n            return fertilizerQty * totalWaterQty;\n        }\n        case PER_AREA_UNIT_PER_DAY: {\n            return fertilizerQty * area * daysInPeriod;\n        }\n        case PER_AREA_UNIT_PER_IRREGATION_DAY: {\n            return fertilizerQty * area * irrigationDays;\n        }\n        case TOTAL_PER_AREA_UNIT: {\n            return fertilizerQty * area;\n        }\n        case TOTAL_PER_FIELD: {\n            return fertilizerQty * numberOfFields;\n        }\n        default: {\n            return fertilizerQty * 1;\n        }\n    }\n}\n\nexport function calcSprayerCount(area, sprayerCapacity, sprayVolume) {\n    if (area && sprayerCapacity && sprayVolume && sprayerCapacity > 0) {\n        return (area * sprayVolume) / sprayerCapacity;\n    } else {\n        return 0;\n    }\n}\n\nexport function calacTotalPesticideVolume(unit, pesticideDosage, sprayVolumePerAreaUnit, area) {\n\n    const sprayVolumeValue = sprayVolumePerAreaUnit ? sprayVolumePerAreaUnit : 0;\n    const point = 2;\n    switch (unit) {\n        case 'PERCENT': {\n            return toFixed((((pesticideDosage * sprayVolumeValue) / 100) * area), point);\n        }\n        case 'CC': {\n            return toFixed((area * pesticideDosage) / 1000, point);;\n        }\n        case 'GRM': {\n            return toFixed((area * pesticideDosage) / 1000, point);\n        }\n        case 'LIT': {\n            return toFixed(area * pesticideDosage, toFixed(), point);\n        }\n        case 'KG': {\n            return toFixed(area * pesticideDosage, point);\n        }\n        // case 'PPM': {\n        //     return ((pesticideDosage * sprayVolume * 0.001) / 1000) * area;\n        // }\n        case 'UNIT': {\n            return toFixed(area * pesticideDosage, point);\n        }\n        default: {\n            return 0;\n        }\n    }\n}\n\nfunction toFixed(value, floatingPoint) {\n    if (value) {\n        return Number(value.toFixed(floatingPoint));\n    } else {\n        return 0;\n    }\n\n}\n\nexport function convertKelvin(value, toUnit) {\n    const result = value - 273.15;\n    return result.toFixed(1);\n}\n\n// export function adjustUsageAmountForTariff(amount, ru) {\n//     if (ru && ru.resource && amount && amount !== 0) {\n//         const r = ru.resource;\n//         if (FERTILIZER === r.type && r.specificGravity !== null && r.usageUnit === LIT && r.inventoryUnit === KG) {\n//             return amount * r.specificGravity;\n//         }\n//     }\n//     return amount;\n// }\n\n// export function getTotalWeight(activityDomains) {\n//     const totalWight = Number(sumBy(activityDomains, 'netWeight')).toFixed(2);\n//     return totalWight;\n// }\n\n\n\n// export function isContainerResource(e, activityDef) {\n//     if (e.resource) {\n//         if ([WORKER, WORKER_GROUP].includes(e.resource.type) && e.resource.usageUnit === PER_CONTAINER) {\n//             return true;\n//         } else if ([CONTRACTOR].includes(e.resource.type) && activityDef && activityDef.unit === PER_CONTAINER) {\n//             return true;\n//         }\n//     }\n//     return false;\n// }\n// export function getTotalContainers(resources, selectedActivityDefOption) {\n//     const activityDef = selectedActivityDefOption ? selectedActivityDefOption.element : null;\n//     resources.forEach(element => {\n//         if (element.groupAmount) {\n//             element.groupAmount = Number(element.groupAmount);\n//         }\n//     });\n//     const containers = Number(sumBy(resources.filter(e => isContainerResource(e, activityDef)), 'groupAmount')).toFixed(2);\n//     return containers;\n// }\n\n\nexport function withinPerscentRange(first, second, percentage) {\n    if (first !== null && second !== null) {\n        if (first === second) {\n            return true;\n        }\n        if (first === 0 && second > 0) {\n            return false;\n        }\n        if (second === 0 && first > 0) {\n            return false;\n        }\n        if (first >= second) {\n            return first < (second * Number(\"1.\" + percentage));\n        } else {\n            return second < first * Number(\"1.\" + percentage);\n        }\n    } if (first == null && second == null) {\n        return true;\n    }\n    return false;\n}\n\nexport function calcSprayVolumePerArea(volume, area) {\n    if (volume && area && area > 0) {\n        return (volume / area).toFixed(2);\n    }\n}\n\nexport function calcSprayVolume(volumePerArea, area) {\n    if (volumePerArea && area) {\n        return (volumePerArea * area).toFixed(0);\n    }\n}\n\n"],"names":[],"mappings":"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"}}]
}