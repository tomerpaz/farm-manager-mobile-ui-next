{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/point/PointForm.js"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport { AppBar, Autocomplete, Box, Checkbox, DialogActions, DialogContent, FormControlLabel, IconButton, InputAdornment, MenuItem, TextField, Toolbar, Typography } from '@mui/material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCurrentYear, selectLang, selectMapCenter, selectMapZoom, selectShowFieldAlias, selectShowFieldName, setMapCenter, setMapZoom, setSnackbar } from '../../features/app/appSlice';\nimport TextFieldBase from '../../components/ui/TextField';\nimport { useGetUserDataQuery } from '../../features/auth/authApiSlice';\nimport { useCreateFieldPointMutation, useDeleteFieldPointMutation, useGetPointsQuery, useUpdateFieldPointMutation } from '../../features/points/pointsApiSlice';\nimport { Controller, useForm, useWatch } from 'react-hook-form';\nimport { Cancel, Close, Delete, PestControl, Save } from '@mui/icons-material';\nimport { displayFieldName, FormSpacer, getExpieryText, getFillColor, getOpacity, getPointTypes, isArrayEmpty, isMobile, mapDisplayFieldName, MapToolTip, MAX_PER_MAP, stopMapEventPropagation, trap, UI_SIZE } from '../FarmUtil';\nimport { useGetPestsQuery } from '../../features/pests/pestsApiSlice';\nimport { DatePicker } from '@mui/x-date-pickers';\nimport { useFields } from '../../features/fields/fieldsApiSlice';\nimport { CircleMarker, MapContainer, Polygon, Tooltip, useMapEvents } from 'react-leaflet';\nimport SatelliteMapProvider from '../../components/map/SatelliteMapProvider';\nimport GeoLocation from '../../components/GeoLocation';\nimport PointIcon from '../layers/PointIcon';\nimport Loading from '../../components/Loading';\n\nconst PointForm = ({ defaultValues, open, handleClose, deletable,/*, types*/ }) => {\n\n  const text = useSelector(selectLang)\n\n  const { data: user } = useGetUserDataQuery()\n\n  const { data: pests, isLoading: isPestsLoading } = useGetPestsQuery();\n\n  const [createFieldPoint] = useCreateFieldPointMutation();\n  const [updateFieldPoint] = useUpdateFieldPointMutation()\n  const [deleteFieldPoint] = useDeleteFieldPointMutation()\n\n  const dispatch = useDispatch()\n\n  const year = useSelector(selectCurrentYear);\n  const fields = useFields(year).filter(f => f.geoPoints);\n\n  const { data: points, isLoading: isLoadingPoints, isFetching: isFetchingPoints } = useGetPointsQuery({ types: [defaultValues.type] });\n\n  const displayFields = fields.filter(e => e.baseFieldActive);\n\n  const { control, register, handleSubmit, getValues, watch, formState: { errors },\n    formState: { isDirty, dirtyFields }, reset, setValue, trigger\n  } = useForm({ defaultValues });\n\n  //const type = useWatch({ control, name: \"type\" })\n  // const [type, setType] = useState(defaultValues.type);\n\n  const lng = useWatch({ control, name: \"lng\" })\n  const lat = useWatch({ control, name: \"lat\" })\n\n  //  console.log(type);\n  const saveFieldPoint = (data) => {\n    if (data.id === null) {\n      return createFieldPoint(data).unwrap();\n    } else {\n      return updateFieldPoint(data).unwrap();\n    }\n  }\n\n  const mapCliecked = (e, f, type) => {\n\n    //                name: `${text[editLayer]} - ${displayFieldName(f)}: ${points.length + 1} `,\n\n\n    // console.log('mapCliecked', type)\n\n\n    // console.log(e);\n    setValue('lng', e.latlng.lng.toFixed(5));\n    setValue('lat', e.latlng.lat.toFixed(5));\n    if (f) {\n      setValue('fieldId', f.id);\n      if (defaultValues.id === null) {\n        setValue('name', `${displayFieldName(displayFields.find(e => e.id === f.id))} ${text[defaultValues.type]} - ${points.length}`)\n      }\n    }\n\n\n    stopMapEventPropagation(e);\n\n  }\n\n  const onSubmit = async (data) => {\n    try {\n      const result = await saveFieldPoint(data);\n\n      dispatch(setSnackbar({ msg: data.id ? text.recordUpdated : text.recordCreated, severity: 'success' }))\n      handleClose('save', result);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const onAction = (action) => {\n    if (action === 'delete') {\n      deleteFieldPoint({ id: defaultValues.id })\n    }\n    handleClose('delete');\n    //  setOpen(false)\n  }\n\n  const heightOffset =  defaultValues.type === trap ? 515 : 300; \n  const desktopOffset =  isMobile() ? 0 : 50;\n  const height = window.innerHeight - (heightOffset+desktopOffset);\n\n  const systemCenter = useSelector(selectMapCenter);\n  const [zoom, setZoom] = useState(useSelector(selectMapZoom));\n  const [center, setCenter] = useState(defaultValues.id ? [defaultValues.lat, defaultValues.lng] : systemCenter);\n\n  const showFieldAlias = useSelector(selectShowFieldAlias);\n  const showFieldName = useSelector(selectShowFieldName);\n  const showMapToolTip = showFieldAlias || showFieldName;\n\n\n  const [map, setMap] = useState(0);\n\n\n  function HandleMapEvents() {\n    const m = useMapEvents({\n      zoomend: () => {\n        setZoom(m.getZoom());\n      },\n      dragend: (e) => {\n        setCenter([e.target.getCenter().lat, e.target.getCenter().lng]);\n\n      },\n      click: (e) => {\n\n\n        // console.log('lng', e.latlng.lng.toFixed(5));\n        // console.log('lat', e.latlng.lat.toFixed(5));\n\n        mapCliecked(e, null, 'map');\n      }\n    })\n    return <div></div>\n  }\n\n\n  // if (defaultValues.type === trap && isPestsLoading) {\n  //   return <></>\n  // }\n\n\n\n  const pointsLoaded = isFetchingPoints && isLoadingPoints;\n  const pestLoaded = !isPestsLoading\n  const getDisplayPoints = () => {\n    return (!isFetchingPoints && !isLoadingPoints) ?  points.filter(e => e.active && e.id !== defaultValues.id) : []  }\n  return (\n\n    <Dialog fullScreen={isMobile()} fullWidth={!isMobile()}\n      open={open}>\n      <AppBar sx={{ position: 'relative' }} elevation={0}>\n        <Toolbar>\n          <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\n            {`${text[defaultValues.type]}`}\n          </Typography>\n          <IconButton\n            edge=\"start\"\n            onClick={() => handleClose(null)}\n            color=\"inherit\"\n            aria-label=\"done\"\n          >\n            <Close />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <form onSubmit={handleSubmit(onSubmit)} >\n\n        <DialogContent>\n          <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"name\"\n              render={({ field: { ref, ...field } }) => (\n                <TextFieldBase\n                  id=\"point-name\"\n                  size={UI_SIZE}\n                  label={text.name} fullWidth {...field} />\n              )}\n            />\n          </Box>\n          {/* <Box margin={2} />\n          <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"type\"\n              render={({ field }) => (\n                <TextField\n                  id=\"field-point-type\"\n                  select\n                  {...field}\n                  size={UI_SIZE}\n                  label={text.type}\n                  fullWidth\n                >\n                  {types.map((option) => (\n                    <MenuItem key={option} value={option}>\n                      {text[option]}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              )}\n            />\n          </Box> */}\n          {defaultValues.type === trap &&\n            <Fragment>\n\n              <FormSpacer />\n\n              <Controller\n                name=\"fieldId\"\n                control={control}\n                rules={{ required: true }}\n                render={({ field: { ref, onChange, ...field } }) => <Autocomplete\n                  // disablePortal\n                  blurOnSelect={true}\n                  onChange={(_, data) => onChange(data)}\n                  options={displayFields.map(e => e.id)}\n\n                  // fullWidth\n                  size={UI_SIZE}\n                  sx={{ flex: 2 }}\n                  getOptionLabel={(option) => option ? displayFieldName(displayFields.find(e => e.id === option)) : ''}\n                  isOptionEqualToValue={(option, value) => (value === undefined) || option?.id?.toString() === (value)?.toString()}\n                  renderInput={(params) => <TextFieldBase error={errors.fieldId ? true : false} sx={{ marginTop: 0.5 }} {...params} label={text.field} />}\n                  {...field} />}\n              />\n              <FormSpacer />\n\n              <Controller\n                name=\"pest\"\n                control={control}\n                rules={{ required: true }}\n                render={({ field: { ref, onChange, ...field } }) => <Autocomplete\n                  // disablePortal\n                  blurOnSelect={true}\n                  onChange={(_, data) => onChange(data)}\n                  options={isPestsLoading ? [] :  pests.filter(e => e.active)}\n\n                  // fullWidth\n                  size={UI_SIZE}\n                  sx={{ flex: 2 }}\n                  getOptionLabel={(option) => option ? option.name : ''}\n                  isOptionEqualToValue={(option, value) => (value === undefined) || option?.id?.toString() === (value?.id ?? value)?.toString()}\n                  renderInput={(params) => <TextFieldBase error={errors.pest ? true : false} sx={{ marginTop: 0.5 }} {...params} label={text.pest} />}\n                  {...field} />}\n              />\n              <FormSpacer />\n              <Box display={'flex'} flexDirection={'row'} justifyContent={'space-between'}>\n\n                <Controller\n                  name=\"expiry\"\n                  control={control}\n                  render={({ field }) =>\n                    <DatePicker label={getExpieryText(text, defaultValues.type)}\n                      closeOnSelect\n                      showToolbar={false}\n                      localeText={{\n                        cancelButtonLabel: text.cancel,\n                        clearButtonLabel: text.clear,\n                        okButtonLabel: text.save\n                      }}\n                      slotProps={{\n                        textField: { size: UI_SIZE, variant: 'outlined', sx: { marginTop: 0.5, flex: 1 } },\n                        actionBar: { actions: [\"cancel\", \"clear\"] }\n                      }}\n                      {...field} />}\n                />\n              </Box>  \n            </Fragment>\n          }\n\n          {defaultValues.id !== null && <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"active\"\n              render={({ field: { ref, value, onChange, ...field } }) => (\n                <FormControlLabel control={\n                  <Checkbox checked={value} onChange={onChange} />\n                } label={text.active} />\n\n              )}\n            />\n          </Box>}\n\n\n\n\n          <Box marginTop={2} flex={1} style={{ height: '100%' }} id=\"map\" dir='ltr' >\n            <MapContainer style={{ height: height, width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={false}\n              ref={setMap}\n            >\n\n              <SatelliteMapProvider />\n              <GeoLocation />\n              {displayFields.map((f, index) =>\n                <Polygon field={f} key={f.id}\n                  color={f.color}\n                  fillColor={getFillColor(f)}\n                  fillOpacity={getOpacity(f)}\n                  eventHandlers={{\n                    click: (e) => {\n                      mapCliecked(e, f, 'polygon');\n                    }\n                  }}\n                  positions={f.geoPoints}>\n                  {showMapToolTip && index < MAX_PER_MAP && <Tooltip\n                    className={'empty-tooltip'}\n                    direction=\"center\" opacity={1} permanent>\n                    <MapToolTip textArr={[mapDisplayFieldName(f, showFieldName, showFieldAlias)]} />\n                  </Tooltip>}\n                </Polygon>\n              )}\n\n              {getDisplayPoints().map((e, index, arr) =>\n\n                <CircleMarker\n\n                  // eventHandlers={{\n                  //   click: (event) => {\n\n                  //     mapCliecked(event, e, 'point', index);\n                  //   }\n                  // }}\n                  key={index} radius={12}\n                  color={e.active ? 'white' : 'gray'}\n                  weight={4}\n                  fillColor={e.active ? 'white' : 'gray'}\n                  fillOpacity={1}\n                  center={[e.lat, e.lng]}\n                >\n                  <Tooltip\n                    className={'empty-tooltip'}\n                    direction=\"center\" opacity={0.3} permanent>\n                    <PointIcon point={e} />\n                  </Tooltip>\n                </CircleMarker>\n              )}\n\n              {lat && lng &&\n\n                < CircleMarker\n\n                  // eventHandlers={{\n                  //   click: (event) => {\n\n                  //     mapCliecked(event, e, 'point', index);\n                  //   }\n                  // }}\n                  radius={12}\n                  color={'white'}\n                  weight={4}\n                  fillColor={'white'}\n                  fillOpacity={1}\n                  center={[lat, lng]}\n                >\n                  <Tooltip\n                    className={'empty-tooltip'}\n                    direction=\"center\" opacity={1} permanent>\n                    <PointIcon point={defaultValues} color={'orange'} />\n                  </Tooltip>\n                </CircleMarker>\n              }\n              <HandleMapEvents />\n            </MapContainer>\n            <Box height={10} display={'flex'} justifyContent={'space-around'}>\n              {lat && <Typography >{`${lat}/${lng}`}</Typography>}\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions sx={{ justifyContent: 'center' }}>\n          {defaultValues.id && deletable && <Button size='large' endIcon={<Delete />} variant='outlined' onClick={() => onAction('delete')}>{text.delete}</Button>}\n\n          <Button size='large' endIcon={<Save />} disabled={!isDirty} disableElevation={true} variant='contained' type=\"submit\" >\n            {text.save}\n          </Button>\n          {/* {!defaultValues.id &&\n            <Button size='large' endIcon={<PestControl />} variant='contained' type=\"submit\" onClick={() => console.log('save +')}>{`${text.save} +`}</Button>\n          } */}\n        </DialogActions>\n      </form >\n\n    </Dialog >\n  );\n\n}\nexport default PointForm;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///home/tomer/VSCodeProjects/farm-manager-mobile-ui-next/src/ui/point/FieldPointDialog.js"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport { AppBar, Autocomplete, Box, Checkbox, DialogActions, DialogContent, FormControlLabel, IconButton, InputAdornment, MenuItem, TextField, Toolbar, Typography } from '@mui/material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectLang, setSnackbar } from '../../features/app/appSlice';\nimport TextFieldBase from '../../components/ui/TextField';\nimport { useGetUserDataQuery } from '../../features/auth/authApiSlice';\nimport { useCreateFieldPointMutation, useDeleteFieldPointMutation, useUpdateFieldPointMutation } from '../../features/points/pointsApiSlice';\nimport { Controller, useForm, useWatch } from 'react-hook-form';\nimport { Cancel, Close, Delete, PestControl, Save } from '@mui/icons-material';\nimport { FormSpacer, getPointTypes, trap, UI_SIZE } from '../FarmUtil';\nimport { useGetPestsQuery } from '../../features/pests/pestsApiSlice';\nimport { DatePicker } from '@mui/x-date-pickers';\n\nconst FieldPointDialog = ({ defaultValues, open, handleClose, deletable,/*, types*/ }) => {\n\n  const text = useSelector(selectLang)\n\n  const { data: user } = useGetUserDataQuery()\n\n  const { data: pests, isLoading: isPestsLoading } = useGetPestsQuery();\n\n  const [createFieldPoint] = useCreateFieldPointMutation();\n  const [updateFieldPoint] = useUpdateFieldPointMutation()\n  const [deleteFieldPoint] = useDeleteFieldPointMutation()\n\n  const dispatch = useDispatch()\n\n  const { control, register, handleSubmit, getValues, watch, formState: { errors },\n    formState: { isDirty, dirtyFields }, reset, setValue, trigger\n  } = useForm({ defaultValues });\n\n  //const type = useWatch({ control, name: \"type\" })\n  // const [type, setType] = useState(defaultValues.type);\n\n  //  console.log(type);\n  const saveFieldPoint = (data) => {\n    if (data.id === null) {\n      return createFieldPoint(data).unwrap();\n    } else {\n      return updateFieldPoint(data).unwrap();\n    }\n  }\n\n  const onSubmit = async (data) => {\n    try {\n      const result = await saveFieldPoint(data);\n\n      dispatch(setSnackbar({ msg: data.id ? text.recordUpdated : text.recordCreated, severity: 'success' }))\n      handleClose('save', result);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const onAction = (action) => {\n    if (action === 'delete') {\n      deleteFieldPoint({ id: defaultValues.id })\n    }\n    handleClose('delete');\n    //  setOpen(false)\n  }\n\n  if (defaultValues.type === trap && isPestsLoading) {\n    return <></>\n  }\n\n  return (\n\n    <Dialog fullWidth open={open}>\n      <AppBar sx={{ position: 'relative' }} elevation={0}>\n        <Toolbar>\n          <Typography sx={{ ml: 2, flex: 1 }} variant=\"h6\" component=\"div\">\n            {`${text[defaultValues.type]}`}\n          </Typography>\n          <IconButton\n            edge=\"start\"\n            onClick={() => handleClose(null)}\n            color=\"inherit\"\n            aria-label=\"done\"\n          >\n            <Close />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <form onSubmit={handleSubmit(onSubmit)} >\n\n        <DialogContent>\n          <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"name\"\n              render={({ field: { ref, ...field } }) => (\n                <TextFieldBase\n                  id=\"point-name\"\n                  size={UI_SIZE}\n                  label={text.name} fullWidth {...field} />\n              )}\n            />\n          </Box>\n          {/* <Box margin={2} />\n          <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"type\"\n              render={({ field }) => (\n                <TextField\n                  id=\"field-point-type\"\n                  select\n                  {...field}\n                  size={UI_SIZE}\n                  label={text.type}\n                  fullWidth\n                >\n                  {types.map((option) => (\n                    <MenuItem key={option} value={option}>\n                      {text[option]}\n                    </MenuItem>\n                  ))}\n                </TextField>\n              )}\n            />\n          </Box> */}\n          {defaultValues.type === trap &&\n            <Fragment>\n\n              <FormSpacer/>\n\n              <Controller\n                name=\"pest\"\n                control={control}\n                rules={{ required: true }}\n                render={({ field: { ref, onChange, ...field } }) => <Autocomplete\n                  // disablePortal\n                  blurOnSelect={true}\n                  onChange={(_, data) => onChange(data)}\n                  options={pests.filter(e => e.active)}\n\n                  // fullWidth\n                  size={UI_SIZE}\n                  sx={{ flex: 2 }}\n                  getOptionLabel={(option) => option ? option.name : ''}\n                  isOptionEqualToValue={(option, value) => (value === undefined) || option?.id?.toString() === (value?.id ?? value)?.toString()}\n                  renderInput={(params) => <TextFieldBase error={errors.pest ? true : false} sx={{ marginTop: 0.5 }} {...params} label={text.pest} />}\n                  {...field} />}\n              />\n              <FormSpacer/>\n              <Box display={'flex'} flexDirection={'row'} justifyContent={'space-between'}>\n\n                <Controller\n                  name=\"expiry\"\n                  control={control}\n                  render={({ field }) =>\n                    <DatePicker label={text.expiry}\n                      closeOnSelect\n                      showToolbar={false}\n                      localeText={{\n                        cancelButtonLabel: text.cancel,\n                        clearButtonLabel: text.clear,\n                        okButtonLabel: text.save\n                      }}\n                      slotProps={{\n                        textField: { size: UI_SIZE, variant: 'outlined', sx: { marginTop: 0.5, flex: 1 } },\n                        actionBar: { actions: [\"cancel\", \"clear\"] }\n                      }}\n                      {...field} />}\n                />\n              </Box>\n            </Fragment>\n          }\n\n          {defaultValues.id !== null && <Box display={'flex'} flexDirection={'row'} alignItems={'center'}>\n            <Controller\n              control={control}\n              name=\"active\"\n              render={({ field: { ref, value, onChange, ...field } }) => (\n                <FormControlLabel control={\n                  <Checkbox checked={value} onChange={onChange} />\n                } label={text.active} />\n\n              )}\n            />\n          </Box>}\n\n\n\n\n\n        </DialogContent>\n        <DialogActions sx={{ justifyContent: 'center' }}>\n          {defaultValues.id && deletable && <Button size='large' endIcon={<Delete />} variant='outlined' onClick={() => onAction('delete')}>{text.delete}</Button>}\n\n          <Button size='large' endIcon={<Save />} disableElevation={true} variant='contained' type=\"submit\" >\n            {text.save}\n          </Button>\n          {/* {!defaultValues.id &&\n            <Button size='large' endIcon={<PestControl />} variant='contained' type=\"submit\" onClick={() => console.log('save +')}>{`${text.save} +`}</Button>\n          } */}\n\n        </DialogActions>\n      </form >\n\n    </Dialog>\n  );\n\n}\nexport default FieldPointDialog;\n"],"names":[],"mappings":"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"}}]
}